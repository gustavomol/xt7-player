' Gambas class file

PUBLIC NewEq AS String

PUBLIC SUB SlidersFreq_Change()
  DIM Theslider, TheTextbox AS Object
  DIM params AS String = ""
  DIM i AS Integer = 0
  FOR EACH Theslider IN AudioEqualizer.controls
    IF Theslider IS Slider THEN
      params = params & (12 - TheSlider.value - 12) & ":"
      TheTextbox = valuescontainer.children[i]
      TheTextbox.text = (12 - TheSlider.value - 12)
      i = i + 1
    ENDIF
  NEXT 'slider
  params = Left$(params, Len(params) - 1)
  NewEq = "equalizer=" & params
  TRY FMain.mplayer.Send("af_del equalizer")
  TRY FMain.mplayer.Send("af_add " & NewEq)
  'PRINT out
END
